let ngbrs,Radio,radct=-1,nsongs=10;function euclide(e,a,n){a=a||song1.value(),n=n||song2.value();return parameter=e||paramdrop.value(),values=csv.getColumn(parameter),v1=parseFloat(values[a]),v2=parseFloat(values[n]),distance=abs(v2-v1),1/(1+distance)}function findngbrs(){var a,n=song1.value(),s=paramdrop.value();nsongs=numsongs.value();let r=[];for(let e=0;e<files.length;e++)e!=n&&(a=euclide(s,n,e),r.push({index:e,similarity:a}));r.sort(compare),ngbrs=r.slice(0,nsongs+1),makeDOM()}function compare(e,a){return a.similarity-e.similarity}function printscore(){print(euclide())}function makeDOM(){for(let e=0;e<nsongs;e++)fname=files[ngbrs[e].index];var e=gettitle(song1.value());radct++,Radio=createDiv("<br><span class='sv'>Radio for "+e+"</span>"),Radio.id("r"+nf(radct)),player.parent(Radio),getpl()}