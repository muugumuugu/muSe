let aspect=.7,vizualizer=function(i){i.preload=function(){i.dancerAnimn=[];for(let e=0;e<14;e++){var t="../js/vizualizer/assets/zeoSprites/"+i.nf(e,2,0)+".png",t=i.loadImage(t);i.dancerAnimn.push(t)}},i.setup=function(){p5.disableFriendlyErrors=!0,i.setSoundSystem(soundmode),i.cnv=i.createCanvas(i.windowWidth,i.windowHeight*aspect),i.cnv.id("MAINVIZ"),i.grayScale=i.createGraphics(i.width,i.height),i.gph=i.createGraphics(1e3,1e3,i.WEBGL),i.ctx=i.drawingContext,i.clear(),i.rainbow=!0,i.angleMode(i.DEGREES),i.initiateVizVars(i)},i.windowResized=function(){i.resizeCanvas(i.windowWidth,i.windowHeight*aspect,!0),i.grayScale=i.createGraphics(i.width,i.height),i.initiateVizVars(i)},i.mousePressed=function(){i.rainbow=!i.rainbow},i.draw=function(){i.fixview(i),i.rendersketch(i)},i.setSoundSystem=function(e){if(i.peakD=new p5.PeakDetect,i.peakD.framesPerPeak=1,i.amp=new p5.Amplitude,i.amp.toggleNormalize(1),i.fft=new p5.FFT(.8,1024),0==e)aspect=1,i.mic=new p5.AudioIn,i.mic.start(),i.amp.setInput(i.mic),i.fft.setInput(i.mic);else{let e=i.getAudioContext(),t=e.createMediaElementSource(document.getElementById("player"));t.connect(p5.soundOut)}}},p5Viz=new p5(vizualizer,"ctx");